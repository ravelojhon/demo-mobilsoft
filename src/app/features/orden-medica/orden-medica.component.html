<div class="container">
    <!-- Botón para abrir el formulario -->
    <p-button label="Crear Orden de Evaluación Médica" (onClick)="createOrden()" severity="info"></p-button>
  
    <!-- Formulario en Modal -->
    <p-dialog [modal]="true" [(visible)]="showForm" [style]="{ width: '90%', maxWidth: '800px', height: 'auto' }">
      <h3>{{ formTitle }}</h3>
  
      <!-- Formulario reactivo -->
      <form [formGroup]="ordenForm" (ngSubmit)="guardarOrden()">
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="estado_orden">Estado de la Orden</label>
            <input type="text" class="form-control" id="estado_orden" formControlName="estado_orden" />
          </div>
          <div class="col-md-6 mb-3">
            <label for="fecha_agendamiento">Fecha de Agendamiento</label>
            <input type="date" class="form-control" id="fecha_agendamiento" formControlName="fecha_agendamiento" />
          </div>
        </div>
  
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="especialista">Especialista</label>
            <input type="text" class="form-control" id="especialista" formControlName="especialista" />
          </div>
          <div class="col-md-6 mb-3">
            <label for="consultorio">Consultorio</label>
            <input type="text" class="form-control" id="consultorio" formControlName="consultorio" />
          </div>
        </div>
  
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="direccion_atencion">Dirección de Atención</label>
            <input type="text" class="form-control" id="direccion_atencion" formControlName="direccion_atencion" />
          </div>
        </div>
  
        <!-- Botón para guardar la orden -->
        <button type="submit" class="btn btn-primary" [disabled]="ordenForm.invalid">Guardar Orden</button>
      </form>
    </p-dialog>
  
    <!-- Tabla de Ordenes de Evaluación Médica -->
    <p-table [value]="ordenes" [paginator]="true" [rows]="5" [responsive]="true" class="mt-4">
      <ng-template pTemplate="header">
        <tr>
          <th>Estado</th>
          <th>Fecha Agendamiento</th>
          <th>Especialista</th>
          <th>Consultorio</th>
          <th>Dirección</th>
          <th>Acciones</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-orden>
        <tr>
          <td>{{ orden.estado_orden }}</td>
          <td>{{ orden.fecha_agendamiento | date:'shortDate' }}</td>
          <td>{{ orden.especialista }}</td>
          <td>{{ orden.consultorio }}</td>
          <td>{{ orden.direccion_atencion }}</td>
          <td>
            <p-button icon="pi pi-pencil" (onClick)="editarOrden(orden)" severity="warn"></p-button>
            <p-button icon="pi pi-trash" (onClick)="eliminarOrden(orden)" severity="danger"></p-button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  